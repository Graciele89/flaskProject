<!DOCTYPE html>
<html lang="en">
 <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> Flask App</title>
     <!-- BOOTSTRAP CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
 </head>

 <body>
     <!-- Header -->
    <header>
        <img src="../static/IMG/todo_unsplash.jpg" class="card-img-top" height="350px"  alt="Todo image">
    </header>
     <!-- Main content -->

{#     set the method attribute to post to indicate that the form will submit a POST request#}
        <!-- Create to-do form -->
     <div class="content" id="create_todo">
               <form method="post">
            <p>
                <b><label for="content">Create To Do content:</label></b>
            </p>
            <p>
                <input type="text" name="content" placeholder="Write your detailed content here: " style="font-size: 1rem;" size="50"></input>
            </p>

            <p>
                <b><label for="degree">Degree level: </label></b>
            </p>
               <p>
                 <input id="degree-0" name="degree" required type="radio" value="Important">
                 <label for="degree-0">Important</label>
               </p>

               <p>
                 <input id="degree-1" name="degree" required type="radio" value="Unimportant">
                 <label for="degree-1">Unimportant</label>
               </p>
               <button type="submit" class="btn btn-success" >Submit TODO</button>
            </form>

        <hr>
         <h1 class="text-center" style="color: #3A7EE2; font-weight: bold">TO DO: </h1>

      <!-- displays created todos: -->
         <div class="content">
            <div class="grid-container">
                {% for todo in todos %}
                    <div class="todo">
                      <div class="d-grid gap-2 mx-auto">
                       <div class="row">
                         <p>{{ todo['content'] }} <i>({{ todo['degree']}})</i></p>
                         <!-- Delete to-do -->
                         <div class="col">
                            <form method="POST" action="{{ url_for('delete', id=todo['_id']) }}" style="display: inline;">
                                <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this entry?')">Delete</button>
                            </form>
                         </div>
                        <!-- Update to-do -->
                        <div class="col">
                            <button type="button" class="btn btn-primary" onclick="location.href='{{ url_for('update', id=todo['_id']) }}'">Update</button>
                        </div>
                       </div>
                      </div>
                    </div>
                {% endfor %}
            </div>
        </div>

{#        {% for todo in todos %}#}
{#         <div class="todo" >#}
{#           <div class="d-grid gap-2 mx-auto">#}
{#             <div class="row">#}
{#                <p>{{ todo['content'] }} <i>({{ todo['degree']}})</i></p>#}
{#                 form that submits a POST request to the delete() view function, passing the todos ID to specify what todo will be deleted#}
{#                     <!-- Delete to-do -->#}
{#                <form method="POST" action="{{ url_for('delete', id=todo['_id']) }}" >#}
{#                <input type="submit" value="Delete Todo"#}
{#                onclick="return confirm('Are you sure you want to delete this entry?')">#}
{#                </form>#}
{#                 <div class="col">#}
{#                     <form method="POST" action="{{ url_for('delete', id=todo['_id']) }}" style="display: inline;">#}
{#                     <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this entry?')">Delete</button>#}
{#                     </form>#}
{#                 </div>#}
{#                <!-- Update to-do -->#}
{#                <div class="col">#}
{#                  <button type="button" class="btn btn-primary" onclick="location.href='{{ url_for('update', id=todo['_id']) }}'">Update</button>#}
{#                </div>#}
{#             </div>#}
{#           </div>#}
{#         </div>#}
{#        {% endfor %}#}

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="../static/js"></script>
  </main>
 </body>
</html>